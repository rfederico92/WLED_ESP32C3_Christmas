#pragma once

#include "wled.h"
#include <SPI.h>
#include <Wire.h>
#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>
// #include "splash.h"

#define SCREEN_WIDTH 128    // OLED display width, in pixels
#define SCREEN_HEIGHT 64    // OLED display height, in pixels
#define I2C_SDA 8           // SDA pin
#define I2C_SCL 9           // SCL pin
#define OLED_RESET -1       // Reset pin # (or -1 if sharing Arduino reset pin)
#define SCREEN_ADDRESS 0x3C ///< See datasheet for Address; (01111000 [0x3C] for SSD1306)
#define SSD1306_NO_SPLASH

TwoWire I2COLED = TwoWire(0);
Adafruit_SSD1306 display(SCREEN_WIDTH, SCREEN_HEIGHT, &I2COLED, OLED_RESET);

#define startScreen1_width 128
#define startScreen1_height 64
static unsigned char PROGMEM startScreen1_data[] = {
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xbb, 0x10, 0x63, 0xf7, 0x6c, 0x31, 0x46, 0xd0, 0xcd,
    0xb1, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x93, 0xde, 0x5a, 0x77, 0x6b,
    0x6d, 0xfb, 0x9d, 0xb4, 0xbe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xab,
    0x18, 0xe3, 0x78, 0x0f, 0x71, 0xe7, 0x5d, 0x85, 0xb9, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xbb, 0x5e, 0xeb, 0x7d, 0x6b, 0x75, 0xdf, 0xdd, 0xb5,
    0xf7, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xbb, 0xd0, 0xda, 0xfd, 0x6c,
    0x2d, 0xe2, 0xdd, 0xb5, 0xb8, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0x7f, 0xce, 0x79, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xbf, 0xb5, 0x36, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xb6,
    0x5b, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0x7f, 0xb7, 0x1d, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x3f, 0xcc, 0x70, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x0f, 0xc3, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x0f,
    0xc3, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xf3, 0x3c, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf3, 0x3c, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf3,
    0x3f, 0xfb, 0xec, 0xc2, 0xbd, 0xb5, 0xf9, 0x79, 0x9c, 0xed, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xf3, 0x3f, 0x7b, 0xeb, 0xfa, 0xbd, 0xa5, 0xf6, 0x7a,
    0x6b, 0xe9, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf3, 0x3f, 0x7b, 0x5b, 0xe3,
    0xbd, 0x95, 0xf0, 0x74, 0x6c, 0xe5, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf3,
    0x3f, 0x7b, 0x5b, 0xfb, 0xbd, 0xb5, 0x76, 0x7b, 0x6d, 0xed, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xcf, 0xcf, 0xc3, 0xbc, 0xc3, 0x61, 0xb6, 0xf6, 0x70,
    0x9b, 0xed, 0xff, 0xff, 0xff, 0xff, 0xff, 0xcf, 0xcf, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x3f,
    0xf3, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0x3f, 0xf3, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xfc, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff};

#define startScreen2_width 128
#define startScreen2_height 32
static unsigned char PROGMEM startScreen2_data[] = {
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x9f, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xcf, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xe3, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xe1, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0x7f, 0xf0, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0x3f, 0xf8, 0x0f, 0xf8, 0x1f, 0xe0, 0xff,
    0x87, 0x0f, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0x1f, 0xfc, 0x00,
    0xc0, 0x1f, 0x00, 0xf8, 0x07, 0x0f, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff,
    0xff, 0x03, 0x7e, 0x00, 0x80, 0x1f, 0x00, 0xf0, 0x07, 0x0f, 0x00, 0x00,
    0xff, 0xff, 0xff, 0xff, 0xff, 0x03, 0x3e, 0x00, 0x00, 0x1f, 0x00, 0xe0,
    0x07, 0x0f, 0x00, 0x80, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x00, 0x1f, 0xc0,
    0x00, 0x1f, 0x00, 0xc0, 0x07, 0x0f, 0x00, 0xc0, 0xff, 0xff, 0xff, 0xff,
    0x3f, 0x80, 0x0f, 0xf8, 0x07, 0x1f, 0xfc, 0xc0, 0x07, 0xff, 0xff, 0xc0,
    0xff, 0xff, 0xff, 0xff, 0x0f, 0x80, 0x0f, 0xfe, 0x9f, 0x1f, 0xfc, 0xc1,
    0x07, 0xff, 0x7f, 0xe0, 0xff, 0xff, 0xff, 0xff, 0x03, 0xc0, 0x07, 0xff,
    0xff, 0x1f, 0xfc, 0xc1, 0x07, 0xff, 0x7f, 0xe0, 0xff, 0xff, 0xff, 0xff,
    0x01, 0xe0, 0x03, 0xff, 0xff, 0x1f, 0xfc, 0xc1, 0x07, 0xff, 0x3f, 0xf0,
    0xff, 0xff, 0xff, 0x7f, 0x00, 0xe0, 0x83, 0xff, 0xff, 0x1f, 0xfc, 0xc1,
    0x07, 0xff, 0x1f, 0xf8, 0xff, 0xff, 0xff, 0x3f, 0x00, 0xf0, 0x83, 0xff,
    0xff, 0x1f, 0xfe, 0xe0, 0x07, 0xff, 0x1f, 0xf8, 0xff, 0xff, 0xff, 0x0f,
    0x00, 0xf0, 0x83, 0xff, 0xff, 0x1f, 0x00, 0xf0, 0x07, 0xff, 0x0f, 0xfc,
    0xff, 0xff, 0xff, 0x03, 0x00, 0xf8, 0x83, 0xff, 0xff, 0x1f, 0x00, 0xf0,
    0x07, 0xff, 0x0f, 0xfe, 0xff, 0xff, 0xff, 0x01, 0x00, 0xfc, 0xc3, 0xff,
    0xff, 0x1f, 0x00, 0xe0, 0x07, 0xff, 0x07, 0xfe, 0xff, 0xff, 0x3f, 0x00,
    0x00, 0xfc, 0x83, 0xff, 0xff, 0x1f, 0x00, 0xc0, 0x07, 0xff, 0x03, 0xff,
    0xff, 0xff, 0x1f, 0x00, 0x00, 0xfe, 0x83, 0xff, 0xff, 0x1f, 0xfc, 0xc1,
    0x07, 0xff, 0x81, 0xff, 0xff, 0xff, 0x07, 0x00, 0x01, 0xff, 0x83, 0xff,
    0xff, 0x1f, 0xfe, 0x83, 0x07, 0xff, 0x81, 0xff, 0xff, 0xff, 0x01, 0x40,
    0x00, 0xff, 0x87, 0xff, 0xff, 0x1f, 0xfc, 0x83, 0x07, 0xff, 0xc1, 0xff,
    0xff, 0xff, 0x00, 0x60, 0x80, 0xff, 0x03, 0xff, 0xff, 0x1f, 0xfc, 0x83,
    0x07, 0x7f, 0xe0, 0xff, 0xff, 0x1f, 0x00, 0x78, 0x80, 0xff, 0x0f, 0xff,
    0x9f, 0x1f, 0xfc, 0x83, 0x07, 0x7f, 0xe0, 0xff, 0xff, 0x0f, 0x00, 0x3e,
    0xc0, 0xff, 0x0f, 0xfc, 0x0f, 0x1f, 0xfc, 0x81, 0x07, 0x7f, 0xf0, 0xff,
    0xff, 0x01, 0x80, 0x3f, 0xc0, 0xff, 0x0f, 0xf0, 0x07, 0x1e, 0xfc, 0x81,
    0x07, 0x3f, 0xf0, 0xff, 0x7f, 0x00, 0xe0, 0x0f, 0xe0, 0xff, 0x1f, 0x00,
    0x00, 0x1f, 0x00, 0xc0, 0x07, 0x1f, 0x00, 0x00, 0x1f, 0x00, 0xf0, 0x0f,
    0xe0, 0xff, 0x3f, 0x00, 0x00, 0x1f, 0x00, 0xc0, 0x07, 0x0f, 0x00, 0x00,
    0x07, 0x00, 0xfe, 0x0f, 0xf0, 0xff, 0x7f, 0x00, 0xc0, 0x1f, 0x00, 0xf0,
    0x07, 0x0f, 0x00, 0x00, 0x03, 0x80, 0xff, 0x07, 0xf8, 0xff, 0xff, 0x03,
    0xe0, 0x1f, 0x00, 0xfc, 0x07, 0x0f, 0x00, 0x00};

class OledDisplayUserMod : public Usermod
{

private:
public:
  // gets called once at boot. Do all initialization that doesn't depend on
  // network here
  void setup()
  {
    // Initialize OLED display
    Serial.begin(115200);
    display.begin(SSD1306_SWITCHCAPVCC, SCREEN_ADDRESS);
    display.clearDisplay();
    display.drawXBitmap((SCREEN_WIDTH - startScreen1_width) / 2, (SCREEN_HEIGHT - startScreen1_height) / 2,
                        startScreen1_data, startScreen1_width, startScreen1_height, 1);
    display.display();
    display.clearDisplay();
    display.drawXBitmap((SCREEN_WIDTH - startScreen2_width) / 2, (SCREEN_HEIGHT - startScreen2_height) / 2,
                        startScreen2_data, startScreen2_width, startScreen2_height, 1);
    delay(3000);
    display.display();
    display.clearDisplay();
  }

  // gets called every time WiFi is (re-)connected. Initialize own network
  // interfaces here
  void connected()
  {
  }

  void loop()
  {
  }
};